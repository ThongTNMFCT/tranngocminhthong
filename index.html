<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Trần Ngọc Minh Thông</title>
    <link rel="icon" href="https://i.ibb.co/cS61WGmW/I-m-Thong-Tran-1.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc; /* bg-slate-50 */
        }
        .fade-in-element {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s cubic-bezier(0.645, 0.045, 0.355, 1), transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
        }
        .fade-in-element.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="text-slate-700">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-slate-800 hover:text-cyan-600 transition-colors">Trần Ngọc Minh Thông</a>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-6">
                <a href="index.html#about" class="text-slate-600 hover:text-cyan-600 transition-colors">Giới thiệu</a>
                <a href="index.html#skills" class="text-slate-600 hover:text-cyan-600 transition-colors">Kỹ năng</a>
                <a href="du-an.html" class="font-semibold text-cyan-600">Dự án</a>
                <a href="bai-viet.html" class="text-slate-600 hover:text-cyan-600 transition-colors">Bài viết</a>
                <a href="thanh-tich.html" class="text-slate-600 hover:text-cyan-600 transition-colors">Thành tích</a>
            </div>
            <a href="#contact" class="hidden md:block bg-cyan-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-cyan-600 transition-colors">Liên hệ</a>
            
            <!-- Mobile Menu Button -->
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-slate-800 focus:outline-none z-50 relative">
                    <svg id="menu-open-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-4 6h10"></path></svg>
                    <svg id="menu-close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-200">
            <a href="#about" class="block py-3 px-6 text-slate-600 hover:bg-cyan-50 transition-colors">Giới thiệu</a>
            <a href="#skills" class="block py-3 px-6 text-slate-600 hover:bg-cyan-50 transition-colors">Kỹ năng</a>
            <a href="#projects" class="block py-3 px-6 text-slate-600 hover:bg-cyan-50 transition-colors">Dự án</a>
            <a href="bai-viet.html" class="block py-3 px-6 text-slate-600 hover:bg-cyan-50 transition-colors">Bài viết</a>
            <a href="thanh-tich.html" class="block py-3 px-6 text-slate-600 hover:bg-cyan-50 transition-colors">Thành tích</a>
            <a href="#contact" class="block py-3 px-6 text-slate-600 hover:bg-cyan-50 transition-colors">Liên hệ</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6">
        <!-- Hero Section -->
        <section id="hero" class="min-h-[85vh] flex flex-col justify-center items-center text-center">
            <div class="max-w-3xl">
                <p class="text-cyan-600 text-lg font-medium mb-3 fade-in-element">Xin chào, mình là</p>
                <h1 class="text-4xl sm:text-5xl md:text-7xl font-black text-slate-900 mb-4 fade-in-element"><span class="whitespace-nowrap">Trần Ngọc Minh Thông.</span></h1>
                <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-slate-600 mb-6 fade-in-element">Học sinh đam mê lập trình <span class="whitespace-nowrap">& sáng tạo.</span></h2>
                <p class="text-lg text-slate-500 max-w-xl mb-8 fade-in-element mx-auto">
                    Là một học sinh tại FPT School Cần Thơ, mình đang trên hành trình khám phá thế giới công nghệ và biến những ý tưởng sáng tạo thành các sản phẩm web thú vị, hữu ích.
                </p>
                <div class="fade-in-element">
                    <a href="#projects" class="bg-cyan-500 text-white font-bold text-lg py-3 px-8 rounded-lg hover:bg-cyan-600 transition-transform hover:scale-105 inline-block shadow-lg shadow-cyan-500/30">Xem dự án của mình!</a>
                </div>
            </div>
        </section>

        <!-- About Me Section -->
        <section id="about" class="py-16 md:py-24 fade-in-element">
            <h2 class="text-3xl font-bold text-slate-900 text-center mb-12"><span class="text-cyan-600 mr-2">01.</span> Giới thiệu về mình</h2>
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-2/3">
                     <p class="text-slate-600 text-lg leading-relaxed">
                        Mình là một FSchooler tại FPT School Cần Thơ. Mình có niềm yêu thích đặc biệt với việc thiết kế và xây dựng các trang web. Mục tiêu của mình là tạo ra những trải nghiệm số không chỉ đẹp về mặt thẩm mỹ mà còn dễ dàng sử dụng và mang lại giá trị thực tế cho mọi người.
                    </p>
                    <ul class="mt-6 space-y-3 text-slate-600 text-lg">
                        <li><strong class="font-semibold text-slate-800 w-32 inline-block">MSHS:</strong> FCT31178</li>
                        <li><strong class="font-semibold text-slate-800 w-32 inline-block">Email:</strong> ThongTNMFCT31178@gmail.com</li>
                        <li><strong class="font-semibold text-slate-800 w-32 inline-block">Quê quán:</strong> Long Xuyên, An Giang</li>
                    </ul>
                </div>
                <div class="md:w-1/3 flex justify-center">
                    <div class="w-64 h-64 rounded-lg relative group">
                        <img src="https://i.ibb.co/PL4q0Rj/I-m-Thong-Tran-2.png" alt="Ảnh cá nhân" class="rounded-lg absolute inset-0 w-full h-full object-cover group-hover:-translate-x-3 group-hover:-translate-y-3 transition-transform duration-300 shadow-xl">
                          <div class="w-full h-full border-2 border-cyan-500 rounded-lg absolute top-0 left-0 -translate-x-5 -translate-y-5 transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Skills Section -->
        <section id="skills" class="py-16 md:py-24 fade-in-element">
            <h2 class="text-3xl font-bold text-slate-900 text-center mb-12"><span class="text-cyan-600 mr-2">02.</span> Các kỹ năng của mình</h2>
            <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 max-w-3xl mx-auto">
                <div class="bg-white p-6 rounded-lg text-center border border-slate-200 hover:border-cyan-500 hover:shadow-xl transition-all transform hover:-translate-y-2">
                    <h3 class="font-bold text-slate-800">HTML, CSS, JS</h3>
                </div>
                <div class="bg-white p-6 rounded-lg text-center border border-slate-200 hover:border-cyan-500 hover:shadow-xl transition-all transform hover:-translate-y-2">
                    <h3 class="font-bold text-slate-800">Photoshop</h3>
                </div>
                <div class="bg-white p-6 rounded-lg text-center border border-slate-200 hover:border-cyan-500 hover:shadow-xl transition-all transform hover:-translate-y-2">
                    <h3 class="font-bold text-slate-800">Canva</h3>
                </div>
                <div class="bg-white p-6 rounded-lg text-center border border-slate-200 hover:border-cyan-500 hover:shadow-xl transition-all transform hover:-translate-y-2">
                    <h3 class="font-bold text-slate-800">Capcut</h3>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-16 md:py-24 fade-in-element">
            <h2 class="text-3xl font-bold text-slate-900 text-center mb-12"><span class="text-cyan-600 mr-2">03.</span> Dự án nổi bật</h2>
            <div id="projects-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <p class="col-span-full text-center text-slate-500">Đang tải dự án...</p>
            </div>
             <div class="text-center mt-12">
                <a href="du-an.html" class="bg-white text-cyan-600 font-bold py-3 px-8 rounded-lg border border-cyan-500 hover:bg-cyan-50 transition-colors">Xem tất cả dự án</a>
            </div>
        </section>

        <!-- Latest Posts Section -->
        <section id="latest-posts" class="py-16 md:py-24 fade-in-element">
            <h2 class="text-3xl font-bold text-slate-900 text-center mb-12"><span class="text-cyan-600 mr-2">04.</span> Bài viết gần đây</h2>
            <div id="posts-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <p class="col-span-full text-center text-slate-500">Đang tải bài viết...</p>
            </div>
            <div class="text-center mt-12">
                <a href="bai-viet.html" class="bg-white text-cyan-600 font-bold py-3 px-8 rounded-lg border border-cyan-500 hover:bg-cyan-50 transition-colors">Xem tất cả bài viết</a>
            </div>
        </section>
        
        <!-- Achievements Section -->
        <section id="latest-achievements" class="py-16 md:py-24 fade-in-element">
            <h2 class="text-3xl font-bold text-slate-900 text-center mb-12"><span class="text-cyan-600 mr-2">05.</span> Thành tích nổi bật</h2>
            <div id="achievements-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <p class="col-span-full text-center text-slate-500">Đang tải thành tích...</p>
            </div>
            <div class="text-center mt-12">
                <a href="thanh-tich.html" class="bg-white text-cyan-600 font-bold py-3 px-8 rounded-lg border border-cyan-500 hover:bg-cyan-50 transition-colors">Xem tất cả thành tích</a>
            </div>
        </section>
        
        <!-- Contact Section -->
        <section id="contact" class="py-16 md:py-24 text-center max-w-2xl mx-auto fade-in-element">
             <h2 class="text-3xl font-bold text-slate-900 text-center mb-4"><span class="text-cyan-600 mr-2">06.</span> Liên hệ</h2>
             <p class="text-slate-600 mb-8">
                Mình luôn mong muốn được kết nối, học hỏi từ mọi người và trao đổi về những ý tưởng công nghệ. Nếu bạn có câu hỏi hoặc muốn hợp tác, đừng ngần ngại liên hệ với mình nhé!
             </p>
             <div class="flex flex-col sm:flex-row justify-center items-center gap-6">
                <a href="mailto:ThongTNMFCT31178@gmail.com" class="bg-cyan-500 text-white font-bold text-lg py-3 px-8 rounded-lg hover:bg-cyan-600 transition-transform hover:scale-105 inline-block shadow-lg shadow-cyan-500/30 w-full sm:w-auto">Gửi Email</a>
             </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="py-6 mt-12 border-t border-slate-200">
        <div class="container mx-auto px-6 text-center text-slate-500">
            <p>Thiết kế & Xây dựng bởi Trần Ngọc Minh Thông</p>
            <p>&copy; 2024. Mọi quyền được bảo lưu.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script type="module">
        import { firebaseConfig } from './firebase-key.js';
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // --- Firebase Init ---
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // --- Mobile Menu ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuOpenIcon = document.getElementById('menu-open-icon');
        const menuCloseIcon = document.getElementById('menu-close-icon');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            menuOpenIcon.classList.toggle('hidden');
            menuCloseIcon.classList.toggle('hidden');
        });
        
        mobileMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
                mobileMenu.classList.add('hidden');
                menuOpenIcon.classList.remove('hidden');
                menuCloseIcon.classList.add('hidden');
            }
        });

        // --- Scroll Animation Logic ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.target.closest('#hero')) return; 

                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('#hero .fade-in-element').forEach((el, index) => {
            setTimeout(() => { el.classList.add('is-visible'); }, 100 * (index + 1));
        });
        document.querySelectorAll('section.fade-in-element').forEach(el => observer.observe(el));
        
        function stripHtml(html){
           let doc = new DOMParser().parseFromString(html, 'text/html');
           return doc.body.textContent || "";
        }

        // --- Generic Fetch Function ---
        async function fetchLatestItems(collectionName, container, limitCount) {
            try {
                const q = query(collection(db, collectionName), orderBy("timestamp", "desc"), limit(limitCount));
                const querySnapshot = await getDocs(q);
                
                if (querySnapshot.empty) {
                    container.innerHTML = `<p class="text-center text-slate-500 col-span-full">Chưa có nội dung nào.</p>`;
                    return;
                }

                container.innerHTML = '';
                querySnapshot.forEach((doc) => {
                    const item = doc.data();
                    const snippet = stripHtml(item.content || '').substring(0, 80) + '...';
                    
                    let thumbnailUrl = 'https://placehold.co/600x400/e2e8f0/475569?text=Chưa+có+ảnh';
                    if (item.imageUrls && item.imageUrls.length > 0) {
                        thumbnailUrl = item.imageUrls[0];
                    } else if (item.imageUrl) {
                        thumbnailUrl = item.imageUrl;
                    }

                    const itemElement = `
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden group transform hover:-translate-y-2 transition-transform duration-300 border border-slate-200">
                            <a href="view.html?type=${collectionName}&id=${doc.id}" class="block">
                                <div class="overflow-hidden h-48">
                                    <img src="${thumbnailUrl}" alt="${item.title}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                                </div>
                                <div class="p-6">
                                    <h3 class="text-xl font-bold text-slate-800 mb-2 group-hover:text-cyan-600 transition-colors">${item.title}</h3>
                                    ${collectionName !== 'achievements' ? `<p class="text-slate-600 mb-4 text-sm">${snippet}</p>` : ''}
                                    <span class="font-semibold text-cyan-600 hover:underline">Xem chi tiết &rarr;</span>
                                </div>
                            </a>
                        </div>
                    `;
                    container.innerHTML += itemElement;
                });
            } catch (error) {
                console.error(`Error fetching ${collectionName}: `, error);
                container.innerHTML = `<p class="text-center text-red-500 col-span-full">Lỗi khi tải dữ liệu. Vui lòng thử lại sau.</p>`;
            }
        }

        // --- Fetch all latest content ---
        fetchLatestItems("projects", document.getElementById('projects-list'), 3);
        fetchLatestItems("posts", document.getElementById('posts-list'), 3);
        fetchLatestItems("achievements", document.getElementById('achievements-list'), 3);

    </script>
</body>
</html>

